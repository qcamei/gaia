webpackJsonp([1],{"+cJt":function(e,t){},"/FF+":function(e,t,a){"use strict";var n,i=a("bOdI"),o=a.n(i),r=a("Dd8w"),s=a.n(r),l=a("woOf"),c=a.n(l),p=a("sTbe"),u=a("UOq2");t.a=a.i(p.a)((n={},o()(n,u.a,function(e,t){if(!t.error&&t.payload&&t.payload.data.success){return c()({},e,{templatesInfo:t.payload.data.data})}return e}),o()(n,u.c,function(e,t){if(!t.error&&t.payload&&t.payload.data.success){return c()({},e,{moduleDetail:t.payload.data.data})}return c()({},e,{textData:"没有获取到此模块的文字信息,请点击重试"})}),o()(n,u.d,function(e,t){if(!t.error&&t.payload){return c()({},e,{moduleDetail:s()({},e.moduleDetail,{txtData:t.payload})})}return e}),n),{templatesInfo:[]})},"/cg+":function(e,t,a){"use strict";var n=a("Zx67"),i=a.n(n),o=a("Zrlr"),r=a.n(o),s=a("wxAW"),l=a.n(s),c=a("zwoO"),p=a.n(c),u=a("Pf15"),d=a.n(u),m=a("U7vG"),h=a.n(m),f=a("KSGD"),v=(a.n(f),a("IidI")),y=(a.n(v),a("vaID")),E=a.n(y),g=a("37+n"),I=a.n(g),D=a("vgHw"),M=(a.n(D),a("uuhB")),_=(a.n(M),a("7h3N")),b=(a.n(_),a("H9lX")),w=a.n(b),N=a("M4fF"),S=(a.n(N),a("Om99")),k=(I.a.Item,function(e){function t(){var e,a,n,o;r()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return a=n=p()(this,(e=t.__proto__||i()(t)).call.apply(e,[this].concat(l))),n.state={loading:!1},o=a,p()(n,o)}return d()(t,e),l()(t,[{key:"handleOk",value:function(){}},{key:"render",value:function(){return h.a.createElement("div",{className:w.a.addModule},h.a.createElement(E.a,{visible:this.props.visiableAddNew,title:"新增模块",onOk:this.handleOk,onCancel:this.props.hideModal,footer:null},h.a.createElement(S.a,{addNewModule:this.props.addNewModule})))}}]),t}(h.a.Component));t.a=k},"0TZD":function(e,t){},"6+V5":function(e,t,a){"use strict";var n,i=a("bOdI"),o=a.n(i),r=a("woOf"),s=a.n(r),l=a("sTbe"),c=a("UOq2");t.a=a.i(l.a)((n={},o()(n,c.h,function(e,t){var a=++e.isFetching;return s()({},e,{isFetching:a})}),o()(n,c.i,function(e,t){var a=0===e.isFetching?0:--e.isFetching;return s()({},e,{isFetching:a})}),o()(n,c.j,function(e,t){return s()({},e,{errorDetail:t.payload})}),o()(n,c.g,function(e,t){return s()({},e,{errorDetail:t.payload})}),n),{isFetching:0,errorDetail:""})},"9kqz":function(e,t){},ARlz:function(e,t){},BCOr:function(e,t,a){"use strict";var n,i=a("bOdI"),o=a.n(i),r=a("//Fk"),s=a.n(r),l=a("mtWM"),c=a.n(l),p=a("UOq2"),u=a("IcnI");console.log("当前的环境配置是","生产环境"),c.a.defaults.baseURL="/autoreport",c.a.interceptors.request.use(function(e){return u.a.dispatch({type:"REQUEST_BEGIN"}),e},function(e){return s.a.reject(e)}),c.a.interceptors.response.use(function(e){return u.a.dispatch({type:"REQUEST_COMPLETE"}),e.data.success||u.a.dispatch({type:"ERROR_OCCUR",payload:"数据获取失败!"}),e},function(e){e.response.data;u.a.dispatch({type:"REQUEST_COMPLETE"}),u.a.dispatch({type:"ERROR_OCCUR",payload:"请求发生了错误!"})}),t.a=(n={},o()(n,p.a,function(e){return{type:p.a,payload:c.a.get("/template/config",{params:e})}}),o()(n,p.b,function(e,t){return{type:p.b,payload:c.a.post("/template/update?hosId="+t,{params:e})}}),o()(n,p.c,function(e){return{type:p.c,payload:c.a.get("/module",{params:e})}}),o()(n,p.d,function(e){return{type:p.d,payload:e}}),o()(n,p.e,function(e){return{type:p.e,payload:c.a.post("/module/update",e)}}),o()(n,p.f,function(e){return{type:p.f,payload:c.a.post("/module/insert",e)}}),n)},BdWZ:function(e,t,a){"use strict";var n=a("bOdI"),i=a.n(n),o=a("UOq2");t.a=i()({},o.g,function(e){return{type:o.g}})},ChGC:function(e,t,a){"use strict";var n=a("2KeS"),i=a("/FF+"),o=a("6+V5");t.a=a.i(n.d)({templates:i.a,common:o.a})},Ehd3:function(e,t){},Ekug:function(e,t){},H9lX:function(e,t){e.exports={tab_content:"_-0xKWrto_jwFqh4PwF3uX",align_center:"uG5NrP6fv3DacYMTo94I7",switch_container:"_1JMswzPnqkGvp_My374r9F",edit:"_33icvMaKMV_6KEbpuaWSqp",edit_body:"_1b2Pu6BiB4nxLkTWYwxq6o",sync_circle:"_3T5EZ4OMKPFjj6dhmB68bW",actions:"_3FnZZZQB8X_o11-sc1hu3E",addModule:"_2hPIkU4N9B7MbCQQjGb5qW",marginTop20:"aLRXZhRIoxxU2wKpv2DMC"}},IcnI:function(e,t,a){"use strict";var n=a("2KeS"),i=a("po9w"),o=a.n(i),r=a("ChGC"),s={};t.a=a.i(n.b)(r.a,s,a.i(n.c)(o.a))},JaHG:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=function(e){var t=parseInt(e);return!isNaN(t)}},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("U7vG"),i=a.n(n),o=a("O27J"),r=a.n(o),s=a("F8kA"),l=a("RH2O"),c=a("eqvY"),p=a("IcnI"),u=a("ciQf"),d=a.n(u),m=d()();r.a.render(i.a.createElement(l.a,{store:p.a},i.a.createElement(s.a,{history:m},i.a.createElement("div",{className:"atv"},i.a.createElement(s.b,{path:"/",component:c.a})))),document.getElementById("app"))},OK1h:function(e,t){},Om99:function(e,t,a){"use strict";function n(e){return f()(e).some(function(t){return e[t]})}var i=a("Zx67"),o=a.n(i),r=a("Zrlr"),s=a.n(r),l=a("wxAW"),c=a.n(l),p=a("zwoO"),u=a.n(p),d=a("Pf15"),m=a.n(d),h=a("fZjL"),f=a.n(h),v=a("U7vG"),y=a.n(v),E=a("IidI"),g=a.n(E),I=a("37+n"),D=a.n(I),M=a("vgHw"),_=a.n(M),b=a("uuhB"),w=a.n(b),N=a("7h3N"),S=a.n(N),k=D.a.Item,T=function(e){function t(){var e,a,n,i;s()(this,t);for(var r=arguments.length,l=Array(r),c=0;c<r;c++)l[c]=arguments[c];return a=n=u()(this,(e=t.__proto__||o()(t)).call.apply(e,[this].concat(l))),n.handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){e||(console.log("Received values of form: ",t),console.log(n.props),n.props.addNewModule(t).then(function(e){if(!e.payload.data.success)return void S.a.error({message:payload.data.message});n.props.form.resetFields(),n.props.form.validateFields(),S.a.success({message:"新增模块成功！"})}).catch(function(e){}))})},i=a,u()(n,i)}return m()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.props.form.validateFields()}},{key:"render",value:function(){var e=this.props.form,t=e.getFieldDecorator,a=e.getFieldsError,i=e.getFieldError,o=e.isFieldTouched,r=(e.resetFields,o("id")&&i("id")),s=o("name")&&i("name");return y.a.createElement(D.a,{layout:"vertical",onSubmit:this.handleSubmit},y.a.createElement(k,{validateStatus:r?"error":"",help:r||""},t("id",{rules:[{required:!0,message:"请输入模块ID，ID必须为数字",pattern:/^(\d)*$/}]})(y.a.createElement(w.a,{prefix:y.a.createElement(_.a,{type:"edit",style:{fontSize:13}}),placeholder:"模块ID"}))),y.a.createElement(k,{validateStatus:s?"error":"",help:s||""},t("name",{rules:[{required:!0,message:"请输入模块名称"}]})(y.a.createElement(w.a,{prefix:y.a.createElement(_.a,{type:"edit",style:{fontSize:13}}),placeholder:"模块名称"}))),y.a.createElement(k,null,t("description",{rules:[{required:!1,message:"请输入文字描述"}]})(y.a.createElement(w.a,{prefix:y.a.createElement(_.a,{type:"edit",style:{fontSize:13}}),type:"textarea",placeholder:"模块文字描述"}))),y.a.createElement(k,null,t("remark",{rules:[{required:!1,message:"请输入备注信息"}]})(y.a.createElement(w.a,{prefix:y.a.createElement(_.a,{type:"edit",style:{fontSize:13}}),placeholder:"备注信息"}))),y.a.createElement(k,null,y.a.createElement(g.a,{type:"primary",htmlType:"submit",disabled:n(a())},"提交")))}}]),t}(y.a.Component);t.a=D.a.create()(T)},Rj6T:function(e,t,a){"use strict";var n=a("Zx67"),i=a.n(n),o=a("Zrlr"),r=a.n(o),s=a("wxAW"),l=a.n(s),c=a("zwoO"),p=a.n(c),u=a("Pf15"),d=a.n(u),m=a("U7vG"),h=a.n(m),f=a("RH2O"),v=a("pT54"),y=a.n(v),E=a("UraS"),g=a.n(E),I=a("1cZb"),D=a.n(I),M=a("N3Nc"),_=(a.n(M),a("BdWZ")),b=function(e){function t(e){r()(this,t);var a=p()(this,(t.__proto__||i()(t)).call(this,e));return a.state={errorDetail:""},a}return d()(t,e),l()(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.common.errorDetail;t&&(D.a.error(t),this.props.CLEAR_ERRORS())}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.common,t=e.isFetching,a=this.state&&this.state.errorDetail;return a&&console.log("errorDetail",a),h.a.createElement("div",{className:"globalBase"},t>0?h.a.createElement(y.a,{type:"spokes",color:"red",height:40,width:40,className:g.a.loading}):"")}}]),t}(h.a.Component),w=function(e){return{common:e.common}},N=_.a;t.a=a.i(f.b)(w,N)(b)},U2t0:function(e,t,a){"use strict";var n=a("Zx67"),i=a.n(n),o=a("Zrlr"),r=a.n(o),s=a("wxAW"),l=a.n(s),c=a("zwoO"),p=a.n(c),u=a("Pf15"),d=a.n(u),m=a("i61F"),h=(a.n(m),a("U7vG")),f=a.n(h),v=a("KSGD"),y=a.n(v),E=a("IidI"),g=a.n(E),I=a("RjUz"),D=a.n(I),M=a("7h3N"),_=a.n(M),b=a("vgHw"),w=(a.n(b),a("H9lX")),N=a.n(w),S=a("M4fF"),k=a.n(S),T=a.i(m.SortableElement)(function(e){var t=e.value,a=e.active,n=e.switchDo;return f.a.createElement("li",{style:{position:"relative",width:"100%",display:"block",padding:16,backgroundColor:"#FFF",borderBottom:"1px solid #EFEFEF",boxSizing:"border-box",WebkitUserSelect:"none"}},t,f.a.createElement("div",{className:N.a.switch_container},f.a.createElement(D.a,{checked:a,onChange:n})))}),x=a.i(m.SortableContainer)(function(e){var t=e.items,a=e.switchDo,n=e.that;return f.a.createElement("ul",{style:{width:"100%",maxHeight:"calc(100vh - 128px)",margin:"0 auto",marginBottom:"10px",overflow:"auto",backgroundColor:"#f3f3f3",border:"1px solid #EFEFEF",borderRadius:3}},t.map(function(e,t){var i=e.name,o=e.active,r=e.id;return f.a.createElement(T,{key:"item-"+t,index:t,value:i,active:o,switchDo:a.bind(n,{active:o,id:r})})}))}),F=function(e){function t(){var e,n,o,s;r()(this,t);for(var l=arguments.length,c=Array(l),u=0;u<l;u++)c[u]=arguments[u];return n=o=p()(this,(e=t.__proto__||i()(t)).call.apply(e,[this].concat(c))),o.state={items:[],loading:!1},o.onSortEnd=function(e){var t=e.oldIndex,n=e.newIndex,i=o.state.items;if(o.props.selectedModule(i[t]),t===n)return void console.log("顺序没有发生变化");o.setState({items:a.i(m.arrayMove)(i,t,n)},function(){o.props.templateModifyTrue()})},s=n,p()(o,s)}return d()(t,e),l()(t,[{key:"componentWillReceiveProps",value:function(e){e.templateID!==this.state.templateID&&this.setState({items:this.props.curModules,templateID:this.props.templateID})}},{key:"shouldComponentUpdate",value:function(e,t){return e.templateID!==this.state.templateID||this.state!==t}},{key:"componentDidMount",value:function(){0===this.state.items.length&&this.setState({items:this.props.curModules,templateID:this.props.templateID})}},{key:"switch",value:function(e,t){var a=this,n=e.active,i=e.id,o=k.a.cloneDeep(this.state.items),r=k.a.find(o,{id:i,active:n});r?(r.active=t,this.setState({items:o},function(){a.props.templateModifyTrue()})):console.log("没有找到module")}},{key:"syncModules",value:function(){var e=this;if(0===this.state.items.length||!this.props.templateModify)return void _.a.warning({message:"没有检测到更改！"});this.setState({loading:!0}),this.props.sync({templateID:this.state.templateID,modules:this.state.items,templateName:this.props.templateName},this.props.HospitalId).then(function(t){t.payload.data.success?(e.setState({loading:!1}),e.props.templateModifyFalse(),_.a.success({message:"同步模块顺序&开关状态成功！"}),e.props.reFetchData()):(e.setState({loading:!1}),_.a.error({message:"同步失败！",description:"服务当前不可用"}))})}},{key:"render",value:function(){return f.a.createElement("div",{className:N.a.sort_list},f.a.createElement(x,{items:this.state.items,onSortEnd:this.onSortEnd,that:this,switchDo:this.switch,helperClass:"activedList"}),f.a.createElement("div",{className:N.a.align_center},f.a.createElement(g.a,{type:"primary",icon:"sync",onClick:this.syncModules.bind(this),loading:this.state.loading},"同步模块顺序 & 开关状态")))}}]),t}(f.a.Component);t.a=F,F.propTypes={curModules:y.a.array}},U9Xq:function(e,t){},UOq2:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"h",function(){return i}),a.d(t,"i",function(){return o}),a.d(t,"j",function(){return r}),a.d(t,"b",function(){return s}),a.d(t,"g",function(){return l}),a.d(t,"c",function(){return c}),a.d(t,"d",function(){return p}),a.d(t,"e",function(){return u}),a.d(t,"f",function(){return d});var n="GET_TEMPLATES",i="REQUEST_BEGIN",o="REQUEST_COMPLETE",r="ERROR_OCCUR",s="SYNC_MODULES_IN_TEMPLATES",l="CLEAR_ERRORS",c="GET_MODULE_DETAIL",p="SAVE_TEXTAREA",u="SYNC_TEXTAREA",d="ADD_NEW_MODULE"},UraS:function(e,t){e.exports={loading:"_2qlCpo31oA7m63zX0FCPV_"}},W9Z6:function(e,t){},"Yq+E":function(e,t){e.exports={container:"_2vEaSEppDHCKse6wPryRHA"}},eqvY:function(e,t,a){"use strict";var n=a("U7vG"),i=a.n(n),o=a("F8kA"),r=a("i3dJ"),s=a("zYeL"),l=a("Yq+E"),c=a.n(l),p=a("Rj6T");t.a=function(e){e.match;return i.a.createElement("div",null,i.a.createElement("div",{className:c.a.container},i.a.createElement("div",{className:"left"},i.a.createElement("aside",{id:"aside",className:"aside"},i.a.createElement("div",{className:"logo"},"运营平台"),i.a.createElement("ul",{className:"menu",id:"asidemenu"}))),i.a.createElement("div",{className:"right"},i.a.createElement(p.a,null),i.a.createElement(o.c,null,i.a.createElement(o.d,null,i.a.createElement(o.b,{path:"/hospital/:id",exact:!0,component:s.a}),i.a.createElement(o.b,{path:"/",component:r.a}))))))}},i3dJ:function(e,t,a){"use strict";var n=a("U7vG"),i=a.n(n);t.a=function(){return i.a.createElement("div",null,"没有对应的页面：404 ERROR!")}},iWD4:function(e,t){},k42R:function(e,t){},kEWN:function(e,t){},t6q1:function(e,t){},tWyK:function(e,t,a){"use strict";var n=a("Zx67"),i=a.n(n),o=a("Zrlr"),r=a.n(o),s=a("wxAW"),l=a.n(s),c=a("zwoO"),p=a.n(c),u=a("Pf15"),d=a.n(u),m=a("U7vG"),h=a.n(m),f=a("H9lX"),v=a.n(f),y=a("M4fF"),E=(a.n(y),a("vgHw")),g=a.n(E),I=a("l2X+"),D=a.n(I),M=a("xLyH"),_=a.n(M),b=a("uuhB"),w=a.n(b),N=a("IidI"),S=a.n(N),k=a("37+n"),T=a.n(k),x=a("7h3N"),F=a.n(x),A=(T.a.Item,w.a.TextArea),O=function(e){function t(){var e,a,n,o;r()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return a=n=p()(this,(e=t.__proto__||i()(t)).call.apply(e,[this].concat(l))),n.state={loading:!1},o=a,p()(n,o)}return d()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this.props.module;this.props.getModuleDetail({hosId:this.props.HospitalId,pageId:e.id})}},{key:"componentWillReceiveProps",value:function(e){if(parseInt(this.props.module.id)!==parseInt(e.module.id)){console.log("更新module id");var t=e.module;this.props.getModuleDetail({hosId:this.props.HospitalId,pageId:t.id})}}},{key:"updateTextarea",value:function(e){var t=e.target.value;console.log(t),this.props.saveTextArea(t)}},{key:"syncTextArea",value:function(){var e=this;this.setState({loading:!0});var t=this.props.module;if(this.props.moduleDetail.txtData){this.props.syncTextArea({hosId:this.props.HospitalId,pageId:t.id,sections:this.props.moduleDetail.txtData}).then(function(t){t.payload?(e.setState({loading:!1}),e.props.templateModifyFalse(),F.a.success({message:"同步模块文字成功！"})):(e.setState({loading:!1}),F.a.error({message:"同步失败！",description:"服务当前不可用"}))})}}},{key:"render",value:function(){var e=this.props.moduleDetail?this.props.moduleDetail.txtData:"这个模块还没有文本数据！",t=this.props.moduleDetail?this.props.moduleDetail.pageNum:"",a=this.props.moduleDetail?this.props.moduleDetail.chapterNum:"";return h.a.createElement("div",null,h.a.createElement(_.a,{message:"当前编辑的模块名是"+this.props.module.name+"，页码为"+t+",章节码为"+a,type:"info",showIcon:!0}),h.a.createElement(D.a,{mode:"horizontal",selectedKeys:["edit"]},h.a.createElement(D.a.Item,{key:"edit"},h.a.createElement(g.a,{type:"mail"}),"编辑模块"),h.a.createElement(D.a.Item,{key:"preview"},h.a.createElement("a",{href:"http://121.42.252.26:3000/"+this.props.HospitalId+"?template="+this.props.templateID+"&module="+parseInt(this.props.module.id),target:"_blank"},h.a.createElement(g.a,{type:"mail"}),"预览当前模块web版本"))),h.a.createElement("div",{className:v.a.edit_body},h.a.createElement(A,{placeholder:"正在加载文本信息...",value:e,rows:8,onChange:this.updateTextarea.bind(this)}),h.a.createElement("div",{className:v.a.sync_circle},h.a.createElement(S.a,{type:"primary",icon:"sync",onClick:this.syncTextArea.bind(this),loading:this.state.loading},"同步模块文字"))))}}]),t}(h.a.Component);t.a=O},vmjQ:function(e,t){},w0dx:function(e,t,a){"use strict";var n=a("Zx67"),i=a.n(n),o=a("Zrlr"),r=a.n(o),s=a("wxAW"),l=a.n(s),c=a("zwoO"),p=a.n(c),u=a("Pf15"),d=a.n(u),m=a("U7vG"),h=a.n(m),f=a("qB1w"),v=a.n(f),y=a("3pby"),E=(a.n(y),a("H9lX")),g=a.n(E),I=a("vaID"),D=a.n(I),M=a("vgHw"),_=a.n(M),b=a("IidI"),w=a.n(b),N=a("7h3N"),S=a.n(N),k=a("Y2f6"),T=(a.n(k),a("du7Z")),x=(a.n(T),a("N3Nc")),F=(a.n(x),a("+ASa")),A=(a.n(F),a("d5We")),O=(a.n(A),a("XCJ0")),C=(a.n(O),a("r0bZ")),R=(a.n(C),a("GPBq")),U=(a.n(R),a("4yHo")),H=(a.n(U),a("onAH")),P=(a.n(H),a("M4fF")),K=a.n(P),W=a("1cZb"),G=(a.n(W),a("U2t0")),Z=a("JaHG"),q=a("tWyK"),L=a("/cg+"),z=v.a.TabPane,B=function(e){function t(){var e,a,n,o;r()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return a=n=p()(this,(e=t.__proto__||i()(t)).call.apply(e,[this].concat(l))),n.state={activeKey:"",templateModify:!1,selectedModule:"",visiableAddNew:!1},n.tabClick=function(e){parseInt(e)!==parseInt(n.state.activeKey)&&(n.state.templateModify?D.a.confirm({title:"请确认",content:"当前配置已经修改，你要丢弃当前修改吗？",okText:"是的",cancelText:"取消",onOk:n.confirmSHIFT.bind(n,e)}):n.confirmSHIFT(e))},o=a,p()(n,o)}return d()(t,e),l()(t,[{key:"exchangeModulePosition",value:function(e,t,a){var n=K.a.find(this.props.templatesInfo.templates,{templateID:parseInt(e)});K.a.cloneDeep(n)}},{key:"templateModifyTrue",value:function(){this.setState({templateModify:!0})}},{key:"templateModifyFalse",value:function(){this.setState({templateModify:!1})}},{key:"confirmSHIFT",value:function(e){var t=K.a.find(this.props.templatesInfo,{templateID:parseInt(e)});t?(S.a.warning({message:"请注意！您即将配置"+t.templateName+"!"}),this.switchSure(e)):S.a.warning({message:"没有找到对应的模板,id为:"+e})}},{key:"switchSure",value:function(e){var t=this;parseInt(e)!==parseInt(this.state.activeKey)&&this.setState({activeKey:e,selectedModule:""},function(){t.templateModifyFalse()})}},{key:"showModal",value:function(){this.setState({visiableAddNew:!0})}},{key:"hideModal",value:function(){this.setState({visiableAddNew:!1})}},{key:"componentDidMount",value:function(){var e=this;this.props.GET_TEMPLATES({hosId:this.props.match.params.id}).then(function(){var t=parseInt(e.state.activeKey),n=0!==e.props.templatesInfo.length?e.props.templatesInfo[0].templateID:"",i="number"!=typeof t||isNaN(t)?parseInt(n):t;a.i(Z.a)(n)&&e.setState({activeKey:i},function(){console.log("初始加载完毕的page为",i)})})}},{key:"curSelectModule",value:function(e){this.setState({selectedModule:e})}},{key:"exportPDF",value:function(){var e=this.state.activeKey,t=this.props.match.params.id;window.open("http://121.42.252.26:3001/"+t+"?template="+e,"_blank")}},{key:"previewWeb",value:function(){var e=this.state.activeKey,t=this.props.match.params.id;window.open("http://121.42.252.26:3000/"+t+"?template="+e,"_blank")}},{key:"render",value:function(){var e=this.props.match.params.id,t=this.props.templatesInfo,a=0!==t.length,n=t,i=K.a.find(n,{templateID:parseInt(this.state.activeKey)});return h.a.createElement("div",null,a&&h.a.createElement("div",{className:g.a.marginTop20},h.a.createElement("div",null,h.a.createElement(v.a,{onTabClick:this.tabClick.bind(this),activeKey:""+this.state.activeKey,size:"default",type:"card"},n&&n.map(function(e){return h.a.createElement(z,{tab:e.templateName,key:e.templateID})})))),h.a.createElement("div",{className:g.a.tab_content},h.a.createElement("div",{className:"modules_list"},h.a.createElement("div",null,i&&h.a.createElement(G.a,{sync:this.props.SYNC_MODULES_IN_TEMPLATES,templateID:this.state.activeKey,HospitalId:e,templateName:i.templateName,exchangeModulePosition:this.exchangeModulePosition,curModules:i.modules,templateModifyTrue:this.templateModifyTrue.bind(this),templateModifyFalse:this.templateModifyFalse.bind(this),templateModify:this.state.templateModify,selectedModule:this.curSelectModule.bind(this),reFetchData:this.componentDidMount.bind(this)}))),h.a.createElement("div",{className:"modules_content"},a&&!this.state.selectedModule&&h.a.createElement("div",{className:g.a.edit,style:{marginTop:100,marginBottom:100}},h.a.createElement(_.a,{type:"edit",style:{fontSize:100,color:"#e2e2e2"}}),h.a.createElement("div",null,"点击左侧模块，进行编辑操作")),this.state.selectedModule&&h.a.createElement(q.a,{module:this.state.selectedModule,templateID:this.state.activeKey,moduleDetail:this.props.moduleDetail,getModuleDetail:this.props.GET_MODULE_DETAIL,saveTextArea:this.props.SAVE_TEXTAREA,syncTextArea:this.props.SYNC_TEXTAREA,templateModifyTrue:this.templateModifyTrue.bind(this),templateModifyFalse:this.templateModifyFalse.bind(this),HospitalId:e}))),h.a.createElement("div",{className:g.a.actions},!isNaN(parseInt(this.state.activeKey))&&h.a.createElement(w.a,{type:"primary",icon:"file",onClick:this.exportPDF.bind(this)}," 导出PDF "),!isNaN(parseInt(this.state.activeKey))&&h.a.createElement(w.a,{type:"primary",icon:"file",onClick:this.previewWeb.bind(this)}," 预览网页 "),h.a.createElement(w.a,{type:"primary",icon:"plus",onClick:this.showModal.bind(this)}," 新增模块 "),h.a.createElement(L.a,{visiableAddNew:this.state.visiableAddNew,hideModal:this.hideModal.bind(this),addNewModule:this.props.ADD_NEW_MODULE})))}}]),t}(h.a.Component);t.a=B},zYeL:function(e,t,a){"use strict";var n=a("U7vG"),i=(a.n(n),a("BCOr")),o=a("RH2O"),r=a("w0dx"),s=function(e){return e.templates},l=i.a,c=a.i(o.b)(s,l)(r.a);t.a=c}},["NHnr"]);